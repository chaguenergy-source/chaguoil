{% extends 'index.html' %}

{% block page_content %}

<div class="head-title">
    <div class="left">
      {% include 'heading.html' %}
      <ul class="breadcrumb">
            <li>
                <a href="#">Dashboard</a>
            </li>
            <li>
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
                <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </li>
            <li>
                <a class="active" href="#"> {% if useri.langSet == 0 %}Vituo{% else %} Stations{% endif %}</a>
            </li>
        </ul>
    </div>
    
    {% if useri.admin %}

      <button data-toggle="modal" data-target="#addStations" class="btn btn-default btn-download">
          <!-- <i class='bx bxs-cloud-download' ></i> -->
          <span class="text"> {% if useri.langSet == 0 %} Ongeza Kituo{% else %}Add Station{% endif %}</span>
      </button>
    
    {% endif %}

</div>



<div class="table-data">
      <div class="order">
        <div class="head">
          <h4>

            <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="0 0 24 24" style="fill: currentColor;">
              <path d="M12 2C7.589 2 4 5.589 4 9.995 3.971 16.44 11.696 21.784 12 22c0 0 8.029-5.56 8-12 0-4.411-3.589-8-8-8zm0 12c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"></path></svg>
            
            {% if useri.langSet == 0 %}Vituo vya mafuta{% else %}Filling  Stations{% endif %}</h4>
          <!-- <i class='bx bx-search' ></i>
          <i class='bx bx-filter' ></i> -->
        </div>
        <div class="table-responsive">
            <table id="all_filling_stations" class=" smallFont"  >
              <thead>
                <tr>
                  <th>{% if useri.langSet == 0 %}Jina{% else %}Name{% endif %} </th>
                  <th>{% if useri.langSet == 0 %}Anwani{% else %}Address{% endif %}</th>
                  <th>{% if useri.langSet == 0 %}Ingia{% else %}Shift{% endif %}</th>
                </tr>
              </thead>

              <!-- <tbody>

                <tr>
                  <td>
                    <img src="img/people.png">
                    <p>John Doe</p>
                  </td>
                  <td>01-10-2021</td>
                  <td><span class="status completed">Completed</span></td>
                </tr>
                <tr>
                  <td>
                    <img src="img/people.png">
                    <p>John Doe</p>
                  </td>
                  <td>01-10-2021</td>
                  <td><span class="status pending">Pending</span></td>
                </tr>
                <tr>
                  <td>
                    <img src="img/people.png">
                    <p>John Doe</p>
                  </td>
                  <td>01-10-2021</td>
                  <td><span class="status process">Process</span></td>
                </tr>
                <tr>
                  <td>
                    <img src="img/people.png">
                    <p>John Doe</p>
                  </td>
                  <td>01-10-2021</td>
                  <td><span class="status pending">Pending</span></td>
                </tr>
                <tr>
                  <td>
                    <img src="img/people.png">
                    <p>John Doe</p>
                  </td>
                  <td>01-10-2021</td>
                  <td><span class="status completed">Completed</span></td>
                </tr>
              </tbody> -->


              <tbody>
                  {% for s in stations %}
                      <tr>
                          <td><u class="text-primary" >{{s.Interprise.name  }}</u>  </td>
                          <td> {{s.Interprise.sehemu | title }} </td>
                          <td>
                            <a href="/enterstation?sh={{s.Interprise.id}}" title="{% if useri.langSet == 0 %}Ingia{% else %}Shift to {%endif%} {{s.Interprise.name}}" class="btn btn-light btn-sm">
                              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
                                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                <polyline points="15 3 21 3 21 9"></polyline>
                                <line x1="10" y1="14" x2="21" y2="3"></line>
                            </svg>
                            </a>
                          </td>
                      </tr>
                  {% endfor %}
              </tbody>
            </table>          
        </div>


       
      </div>
</div>








{% if useri.admin %}

<!-- Modal -->
<div class="modal fade" id="addStations" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
                <div class="modal-header">
                        <h5 class="modal-title">
                            {% if useri.langSet == 0 %}Ongeza Stesheni ya mafuta {% else %} Add Filling station {% endif %}
                        </h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                    </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <form action="/addstetion" id="addStationForm" method="post">
                        {% csrf_token %}

                        <div class="form-group">
                          <label for="station_name">
                            {% if useri.langSet == 0 %}Jina la Stesheni {% else %} Station name {% endif %}
                          </label>
                          <input type="text"
                            class="form-control" name="station_name" id="station_name" aria-describedby="helpId" 
                            placeholder="">
                          <!-- <small id="helpId" class="form-text text-muted">Help text</small> -->
                        </div>

                        <div class="form-group">
                          <label for="station_address">
                            {% if useri.langSet == 0 %}Anwani kwa Stesheni {% else %} Station Address {% endif %}
                          </label>
                          <input type="text"
                            class="form-control" name="station_address" id="station_address" aria-describedby="helpId" placeholder="">
                          <!-- <small id="helpId" class="form-text text-muted">Help text</small> -->
                        </div>

                        <div class="form-group">
                          <label for="station_distric">
                            {% if useri.langSet == 0 %}Wilaya {% else %} District {% endif %}
                          </label>
                          <input type="text"
                            class="form-control" name="station_distric" id="station_distric" aria-describedby="helpId" placeholder="">
                          <!-- <small id="helpId" class="form-text text-muted">Help text</small> -->
                        </div>

                        <div class="form-group">
                          <label for="station_mkoa">
                            {% if useri.langSet == 0 %}Mkoa {% else %} Region {% endif %}
                          </label>
                          <input type="text"
                            class="form-control" name="station_mkoa" id="station_mkoa" aria-describedby="helpId" placeholder="">
                          <!-- <small id="helpId" class="form-text text-muted">Help text</small> -->
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="submit" class="btn btn-primary">Save</button>
                        </div>

                    </form>
                </div>
            </div>

            
        </div>
    </div>
</div>

{% endif %}

{% endblock %}


{% block stattions %} active  {% endblock %}

{% block additionaljs %}
  <script src="/static/js/stations.js" ></script>
  <script>
    $(document).ready(function(){
      $('#all_filling_stations').DataTable();

    })
</script>
{% endblock %}
